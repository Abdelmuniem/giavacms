<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:perm="http://www.coopservice.it/commons2/permissions"
	xmlns:coop="http://www.coopservice.it/commons2/taglib"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/layout/t.xhtml">

	<ui:define name="title">
		<h:outputText value="Lista Pagine di Errore" />
	</ui:define>

	<ui:define name="content">

		<h:form id="regole">

			<p:dataTable id="errorTable" var="e" rowIndexVar="index"
				value="#{errorPagesController.model}" paginator="false" rows="0"
				dynamic="true" style="width: 95%;">
				<p:column>
					<f:facet name="header">
						<h:outputText value="num" />
					</f:facet>
					<coop:center>
						<h:outputText value="#{index+1}" />
					</coop:center>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:panelGrid columns="1">
							<h:outputText value="nome" />
						</h:panelGrid>
					</f:facet>
					<coop:center>
						<h:outputText value="#{d.name}" />
					</coop:center>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:panelGrid columns="1">
							<h:outputText value="tipologia" />
						</h:panelGrid>
					</f:facet>
					<coop:center>
						<h:outputText value="#{d.type.name}" />
					</coop:center>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:panelGrid columns="1">
							<h:outputText value="file" />
						</h:panelGrid>
					</f:facet>
					<coop:center>
						<h:outputText value="#{d.filename}" />
					</coop:center>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:panelGrid columns="1">
							<h:outputText value="attiva" />
						</h:panelGrid>
					</f:facet>
					<coop:center>
						<h:outputText value="SI" rendered="#{d.attivo}" />
						<h:outputText value="NO" rendered="#{not d.attivo}" />
					</coop:center>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:panelGrid columns="1">
							<h:outputText value="data" />
							<h:outputText value="inserimento" />
						</h:panelGrid>
					</f:facet>
					<coop:center>
						<h:outputText value="#{d.dateCreated}">
							<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss.SSS"
								timeZone="Europe/Rome" />
						</h:outputText>
					</coop:center>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:panelGrid columns="1">
							<h:outputText value="data" />
							<h:outputText value="ultima modifica" />
						</h:panelGrid>
					</f:facet>
					<coop:center>
						<h:outputText value="#{d.dateModified}">
							<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss.SSS"
								timeZone="Europe/Rome" />
						</h:outputText>
					</coop:center>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="visualizza" />
					</f:facet>
					<coop:center>
						<p:commandLink action="#{errorPagesController.viewElement}"
							immediate="true">
							<div style="font-size: 24px;" title="vedi">
								<i class="icon-info-sign"></i>
							</div>
						</p:commandLink>
					</coop:center>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="modifica" />
					</f:facet>
					<coop:center>
						<p:commandLink action="#{errorPagesController.modElement}"
							immediate="true">
							<div style="font-size: 24px;" title="modifica">
								<i class="icon-edit"></i>
							</div>
						</p:commandLink>
					</coop:center>
				</p:column>
				<p:column rendered="false">
					<f:facet name="header">
						<h:outputText value="operazioni" />
					</f:facet>
					<coop:center>
						<p:commandButton action="#{errorPagesController.viewElement}"
							style="width: 1.3em; height: 1.3em;" alt="vedi" title="vedi"
							icon="ui-icon-info" />
						<coop:spacer width="5px" />
						<p:commandButton action="#{errorPagesController.modElement}"
							style="width: 1.3em; height: 1.3em;" alt="modifica"
							title="modifica" icon="ui-icon-pencil" />
					</coop:center>
				</p:column>
				<f:facet name="footer">
					<h:panelGroup></h:panelGroup>
				</f:facet>
			</p:dataTable>
		</h:form>

	</ui:define>

</ui:composition>