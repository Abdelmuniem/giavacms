<md-content class="padded-content-page" ng-if="permit('CATALOGUE')">

    <div flex layout="column" layout-margin>

        <div ng-if="!model">{{message}}</div>

        <div ng-if="model">

            <md-divider></md-divider>

            <table class="my-table" ng-if="model.length > 0">

                <thead theader/>

                <tbody>
                <tr data-ng-repeat="i in model" class="my-table-content-row"
                    ng-init="rowNumber = $index"
                        >
                    <td class="my-table-content">&nbsp;{{rowNumber+1}}</td>

                    <td class="my-table-content" ng-if="!editable(rowNumber)">{{i.resize ? 'SI' : 'NO'}}</td>
                    <td class="my-table-content" ng-if="editable(rowNumber)">
                        <md-input-container>
                            <input data-ng-model="i.resize" type="checkbox"/>
                        </md-input-container>
                    </td>

                    <td class="my-table-content" ng-if="!editable(rowNumber)">{{i.maxWidthOrHeight}}</td>
                    <td class="my-table-content" ng-if="editable(rowNumber)">
                        <md-input-container>
                            <input data-ng-model="i.maxWidthOrHeight" type="number"/>
                        </md-input-container>
                    </td>

                    <td class="my-table-content" ng-if="!editable(rowNumber)">{{i.withPrices ? 'SI' : 'NO'}}</td>
                    <td class="my-table-content" ng-if="editable(rowNumber)">
                        <md-input-container>
                            <input data-ng-model="i.withPrices" type="checkbox"/>
                        </md-input-container>
                    </td>

                    <td class="my-table-content" ng-if="!editable(rowNumber)">{{i.withDimensions ? 'SI' : 'NO'}}</td>
                    <td class="my-table-content" ng-if="editable(rowNumber)">
                        <md-input-container>
                            <input data-ng-model="i.withDimensions" type="checkbox"/>
                        </md-input-container>
                    </td>

                    <td class="my-table-td-inline">
                        <md-button class="my-fab-mini md-fab md-mini md-primary"
                                   ng-hide="editable(rowNumber)"

                                   aria-label="fab button"
                                   ng-click="toggle(rowNumber)">
                            <md-icon md-font-icon="fa fa-pencil"></md-icon>
                        </md-button>
                        <md-button class="my-fab-mini md-fab md-mini md-primary"
                                   ng-show="editable(rowNumber)"
                                   aria-label="fab button"
                                   ng-click="updateInLine(i)">
                            <md-icon md-font-icon="fa fa-save"></md-icon>
                        </md-button>
                        <md-button class="my-fab-mini md-fab md-mini md-primary"
                                   ng-show="editable(rowNumber)"
                                   aria-label="fab button"
                                   ng-click="toggle(rowNumber)">
                            <md-icon md-font-icon="fa fa-remove"></md-icon>
                        </md-button>
                    </td>
                </tr>
                </tbody>

                <tfoot tfooter/>
            </table>

        </div>
    </div>

</md-content>
